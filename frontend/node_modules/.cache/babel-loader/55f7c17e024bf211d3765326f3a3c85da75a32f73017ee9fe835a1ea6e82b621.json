{"ast":null,"code":"import{Alert,Button,Card,CardActions,CardContent,CardMedia,CircularProgress,Container,Typography}from'@mui/material';import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{BookService}from'../app/services/services/BookService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TBRPage=()=>{const[books,setBooks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{loadTBRBooks();},[]);const loadTBRBooks=()=>{// TODO: Implement TBR API call\n// For now, show empty state\nsetLoading(false);};const handleBorrowBook=async bookId=>{try{await BookService.borrowBook(bookId);// Remove from TBR after borrowing\nsetBooks(books.filter(book=>book.id!==bookId));// Optionally navigate to borrowed books\nnavigate('/borrowed-books');}catch(error){console.error('Error borrowing book:',error);}};const handleRemoveFromTBR=async bookId=>{try{// TODO: Implement remove from TBR functionality\nsetBooks(books.filter(book=>book.id!==bookId));}catch(error){console.error('Error removing from TBR:',error);}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"To Be Read (TBR)\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error.message||String(error)}),books.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",gutterBottom:true,children:\"Your TBR list is empty\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{mb:2},children:\"Browse books in the main library and add them to your TBR list.\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate('/books'),children:\"Browse Books\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"book-list-grid\",children:books.map(book=>/*#__PURE__*/_jsx(\"div\",{className:\"book-list-card\",children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',maxWidth:200},children:[book.cover?/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"120\",image:`data:image/jpeg;base64,${book.cover}`,alt:book.title,sx:{objectFit:'contain'}}):/*#__PURE__*/_jsx(CardMedia,{component:\"div\",sx:{height:120,background:'#eee',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No Cover\"})}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,p:1.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"div\",sx:{fontWeight:'bold',mb:0.5,lineHeight:1.2},children:book.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:1},children:[\"by \",book.authorName]})]}),/*#__PURE__*/_jsxs(CardActions,{sx:{p:1.5,pt:0},children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",color:\"primary\",onClick:()=>book.id&&handleBorrowBook(book.id),sx:{flex:1,mr:1},children:\"Borrow Now\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:\"error\",onClick:()=>book.id&&handleRemoveFromTBR(book.id),sx:{flex:1},children:\"Remove\"})]})]})},book.id))})]});};export default TBRPage;","map":{"version":3,"names":["Alert","Button","Card","CardActions","CardContent","CardMedia","CircularProgress","Container","Typography","React","useEffect","useState","useNavigate","BookService","jsx","_jsx","jsxs","_jsxs","TBRPage","books","setBooks","loading","setLoading","error","setError","navigate","loadTBRBooks","handleBorrowBook","bookId","borrowBook","filter","book","id","console","handleRemoveFromTBR","maxWidth","sx","mt","children","variant","gutterBottom","severity","message","String","length","style","textAlign","marginTop","color","mb","onClick","className","map","height","display","flexDirection","cover","component","image","alt","title","objectFit","background","alignItems","justifyContent","flexGrow","p","fontWeight","lineHeight","authorName","pt","size","flex","mr"],"sources":["/Users/rahildesai/Projects/BookNexus/frontend/src/pages/TBRPage.tsx"],"sourcesContent":["import { Alert, Button, Card, CardActions, CardContent, CardMedia, CircularProgress, Container, Typography } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport type { BookResponse } from '../app/services/models/BookResponse';\nimport { BookService } from '../app/services/services/BookService';\n\nconst TBRPage: React.FC = () => {\n  const [books, setBooks] = useState<BookResponse[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<any>(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    loadTBRBooks();\n  }, []);\n\n  const loadTBRBooks = () => {\n    // TODO: Implement TBR API call\n    // For now, show empty state\n    setLoading(false);\n  };\n\n  const handleBorrowBook = async (bookId: number) => {\n    try {\n      await BookService.borrowBook(bookId);\n      // Remove from TBR after borrowing\n      setBooks(books.filter(book => book.id !== bookId));\n      // Optionally navigate to borrowed books\n      navigate('/borrowed-books');\n    } catch (error) {\n      console.error('Error borrowing book:', error);\n    }\n  };\n\n  const handleRemoveFromTBR = async (bookId: number) => {\n    try {\n      // TODO: Implement remove from TBR functionality\n      setBooks(books.filter(book => book.id !== bookId));\n    } catch (error) {\n      console.error('Error removing from TBR:', error);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>To Be Read (TBR)</Typography>\n      {loading && <CircularProgress />}\n      {error && <Alert severity=\"error\">{error.message || String(error)}</Alert>}\n      \n      {books.length === 0 && !loading && (\n        <div style={{ textAlign: 'center', marginTop: '2rem' }}>\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n            Your TBR list is empty\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 2 }}>\n            Browse books in the main library and add them to your TBR list.\n          </Typography>\n          <Button \n            variant=\"contained\" \n            color=\"primary\"\n            onClick={() => navigate('/books')}\n          >\n            Browse Books\n          </Button>\n        </div>\n      )}\n\n      <div className=\"book-list-grid\">\n        {books.map(book => (\n          <div className=\"book-list-card\" key={book.id}>\n            <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column', maxWidth: 200 }}>\n              {book.cover ? (\n                <CardMedia\n                  component=\"img\"\n                  height=\"120\"\n                  image={`data:image/jpeg;base64,${book.cover}`}\n                  alt={book.title}\n                  sx={{ objectFit: 'contain' }}\n                />\n              ) : (\n                <CardMedia\n                  component=\"div\"\n                  sx={{ height: 120, background: '#eee', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    No Cover\n                  </Typography>\n                </CardMedia>\n              )}\n              <CardContent sx={{ flexGrow: 1, p: 1.5 }}>\n                <Typography variant=\"subtitle1\" component=\"div\" sx={{ fontWeight: 'bold', mb: 0.5, lineHeight: 1.2 }}>\n                  {book.title}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  by {book.authorName}\n                </Typography>\n              </CardContent>\n              <CardActions sx={{ p: 1.5, pt: 0 }}>\n                <Button \n                  size=\"small\" \n                  variant=\"contained\" \n                  color=\"primary\"\n                  onClick={() => book.id && handleBorrowBook(book.id)}\n                  sx={{ flex: 1, mr: 1 }}\n                >\n                  Borrow Now\n                </Button>\n                <Button \n                  size=\"small\" \n                  variant=\"outlined\" \n                  color=\"error\"\n                  onClick={() => book.id && handleRemoveFromTBR(book.id)}\n                  sx={{ flex: 1 }}\n                >\n                  Remove\n                </Button>\n              </CardActions>\n            </Card>\n          </div>\n        ))}\n      </div>\n    </Container>\n  );\n};\n\nexport default TBRPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}