{"ast":null,"code":"var _jsxFileName = \"/Users/cluckbucks/projects/booknexus-social/frontend/src/pages/SearchPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { CircularProgress, Alert } from '@mui/material';\nimport { Search as SearchIcon, Clear as ClearIcon, Book as BookIcon } from '@mui/icons-material';\nimport GoogleBookCard from '../components/GoogleBookCard';\nimport GoogleBookReviewModal from '../components/GoogleBookReviewModal';\nimport { directApiService } from '../services/directApi';\nimport { GoogleBookFeedbackService } from '../app/services/services/GoogleBookFeedbackService';\nimport { BookService } from '../app/services/services/BookService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('q') || '';\n\n  // State for search\n  const [searchTerm, setSearchTerm] = useState(query);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState(null);\n\n  // State for results\n  const [combinedResults, setCombinedResults] = useState([]);\n\n  // Modal state\n  const [selectedBook, setSelectedBook] = useState(null);\n  const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\n\n  // Search function\n  const performSearch = useCallback(async searchQuery => {\n    if (!searchQuery.trim()) {\n      setCombinedResults([]);\n      return;\n    }\n    setIsSearching(true);\n    setSearchError(null);\n    try {\n      var _localResults$content;\n      // Search local database\n      const localResults = await BookService.findAllBooks(0, 50);\n      const filteredLocalBooks = ((_localResults$content = localResults.content) === null || _localResults$content === void 0 ? void 0 : _localResults$content.filter(book => {\n        var _book$title, _book$authorName, _book$isbn;\n        return ((_book$title = book.title) === null || _book$title === void 0 ? void 0 : _book$title.toLowerCase().includes(searchQuery.toLowerCase())) || ((_book$authorName = book.authorName) === null || _book$authorName === void 0 ? void 0 : _book$authorName.toLowerCase().includes(searchQuery.toLowerCase())) || ((_book$isbn = book.isbn) === null || _book$isbn === void 0 ? void 0 : _book$isbn.includes(searchQuery));\n      })) || [];\n\n      // Search Google Books API\n      const googleResults = await directApiService.getGoogleBooks(searchQuery, 20);\n      const convertedGoogleBooks = (googleResults.items || []).map(item => {\n        var _item$industryIdentif, _item$industryIdentif2, _item$industryIdentif3, _item$industryIdentif4, _item$authors, _item$imageLinks;\n        // Backend returns flattened structure, not wrapped in volumeInfo\n        const isbn = item.isbn13 || item.isbn10 || ((_item$industryIdentif = item.industryIdentifiers) === null || _item$industryIdentif === void 0 ? void 0 : (_item$industryIdentif2 = _item$industryIdentif.find(id => id.type === 'ISBN_13')) === null || _item$industryIdentif2 === void 0 ? void 0 : _item$industryIdentif2.identifier) || ((_item$industryIdentif3 = item.industryIdentifiers) === null || _item$industryIdentif3 === void 0 ? void 0 : (_item$industryIdentif4 = _item$industryIdentif3.find(id => id.type === 'ISBN_10')) === null || _item$industryIdentif4 === void 0 ? void 0 : _item$industryIdentif4.identifier) || '';\n        return {\n          id: item.id,\n          title: item.title || 'Unknown Title',\n          authorName: ((_item$authors = item.authors) === null || _item$authors === void 0 ? void 0 : _item$authors.join(', ')) || 'Unknown Author',\n          isbn: isbn,\n          synopsis: item.description || 'No description available.',\n          cover: ((_item$imageLinks = item.imageLinks) === null || _item$imageLinks === void 0 ? void 0 : _item$imageLinks.thumbnail) || null,\n          publishedDate: item.publishedDate,\n          pageCount: item.pageCount,\n          categories: item.categories,\n          averageRating: item.averageRating || 0,\n          ratingsCount: item.ratingsCount || 0,\n          isGoogleBook: true,\n          googleBookId: item.id\n        };\n      });\n\n      // Filter Google Books to avoid duplicates and low-quality results\n      const filteredGoogleBooks = convertedGoogleBooks.filter(book => {\n        // Remove books with very low rating counts (but be more lenient)\n        if (book.ratingsCount > 0 && book.ratingsCount < 5) return false;\n\n        // Check if this Google Book is already in local database\n        const isDuplicate = filteredLocalBooks.some(localBook => {\n          var _localBook$title, _book$title2, _localBook$authorName, _book$authorName2;\n          return localBook.isbn === book.isbn && book.isbn !== '' || ((_localBook$title = localBook.title) === null || _localBook$title === void 0 ? void 0 : _localBook$title.toLowerCase()) === ((_book$title2 = book.title) === null || _book$title2 === void 0 ? void 0 : _book$title2.toLowerCase()) && ((_localBook$authorName = localBook.authorName) === null || _localBook$authorName === void 0 ? void 0 : _localBook$authorName.toLowerCase()) === ((_book$authorName2 = book.authorName) === null || _book$authorName2 === void 0 ? void 0 : _book$authorName2.toLowerCase());\n        });\n        return !isDuplicate;\n      });\n\n      // Store filtered results for combination\n\n      // Combine and sort results\n      const combined = [...filteredLocalBooks.map(book => ({\n        ...book,\n        source: 'local'\n      })), ...filteredGoogleBooks.map(book => ({\n        ...book,\n        source: 'google'\n      }))];\n\n      // Sort by relevance (exact matches first, then partial matches)\n      const sortedResults = combined.sort((a, b) => {\n        var _a$title, _b$title;\n        const aTitle = ((_a$title = a.title) === null || _a$title === void 0 ? void 0 : _a$title.toLowerCase()) || '';\n        const bTitle = ((_b$title = b.title) === null || _b$title === void 0 ? void 0 : _b$title.toLowerCase()) || '';\n        const searchLower = searchQuery.toLowerCase();\n\n        // Exact title match gets highest priority\n        if (aTitle === searchLower && bTitle !== searchLower) return -1;\n        if (bTitle === searchLower && aTitle !== searchLower) return 1;\n\n        // Starts with search term gets second priority\n        if (aTitle.startsWith(searchLower) && !bTitle.startsWith(searchLower)) return -1;\n        if (bTitle.startsWith(searchLower) && !aTitle.startsWith(searchLower)) return 1;\n\n        // Higher ratings get priority\n        if (a.averageRating && b.averageRating) {\n          return b.averageRating - a.averageRating;\n        }\n\n        // Local books get priority over Google books\n        if (a.source === 'local' && b.source === 'google') return -1;\n        if (b.source === 'local' && a.source === 'google') return 1;\n        return 0;\n      });\n      setCombinedResults(sortedResults);\n    } catch (error) {\n      setSearchError((error === null || error === void 0 ? void 0 : error.message) || 'Search failed');\n      console.error('Search error:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  }, []);\n\n  // Handle search input\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      setSearchParams({\n        q: searchTerm.trim()\n      });\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // Handle search on query change\n  useEffect(() => {\n    if (query) {\n      setSearchTerm(query);\n      performSearch(query);\n    }\n  }, [query, performSearch]);\n\n  // Review modal handlers\n  const handleReviewClick = book => {\n    setSelectedBook(book);\n    setIsReviewModalOpen(true);\n  };\n  const handleCloseReviewModal = () => {\n    setIsReviewModalOpen(false);\n    setSelectedBook(null);\n  };\n  const handleSubmitReview = async (bookId, rating, review) => {\n    if (!selectedBook) return;\n    try {\n      await GoogleBookFeedbackService.saveFeedback({\n        googleBookId: bookId,\n        bookTitle: selectedBook.title,\n        authorName: selectedBook.authorName,\n        rating: rating,\n        review: review\n      });\n    } catch (error) {\n      console.error('Failed to save review:', error);\n      throw error;\n    }\n  };\n\n  // Render book card based on source\n  const renderBookCard = book => {\n    if (book.source === 'google') {\n      return /*#__PURE__*/_jsxDEV(GoogleBookCard, {\n        book: book,\n        showRating: true,\n        showReviewButton: true,\n        onReviewClick: handleReviewClick\n      }, book.googleBookId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this);\n    } else {\n      // Local book card\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'rgba(255, 255, 255, 0.8)',\n          backdropFilter: 'blur(10px)',\n          padding: '16px',\n          borderRadius: '12px',\n          border: '1px solid #E6D7C3',\n          boxShadow: '0 4px 12px rgba(75, 63, 48, 0.1)',\n          cursor: 'pointer',\n          transition: 'all 0.3s ease',\n          height: '100%'\n        },\n        onMouseOver: e => {\n          e.currentTarget.style.transform = 'translateY(-4px)';\n          e.currentTarget.style.boxShadow = '0 8px 25px rgba(75, 63, 48, 0.15)';\n        },\n        onMouseOut: e => {\n          e.currentTarget.style.transform = 'translateY(0)';\n          e.currentTarget.style.boxShadow = '0 4px 12px rgba(75, 63, 48, 0.1)';\n        },\n        onClick: () => navigate(`/books/${book.id}`),\n        children: [book.cover ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: typeof book.cover === 'string' && book.cover.startsWith('http') ? `http://localhost:8088/api/v1/books/cover/${book.id}` : `data:image/jpeg;base64,${book.cover}`,\n          alt: book.title,\n          style: {\n            width: '100%',\n            height: '192px',\n            objectFit: 'cover',\n            borderRadius: '8px',\n            marginBottom: '16px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: '192px',\n            background: 'linear-gradient(135deg, #F4E3C1, #E6D7C3)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: '8px',\n            marginBottom: '16px'\n          },\n          children: /*#__PURE__*/_jsxDEV(BookIcon, {\n            style: {\n              color: '#8B7355',\n              fontSize: '48px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontFamily: 'Playfair Display, serif',\n              fontSize: '14px',\n              fontWeight: 600,\n              color: '#4B3F30',\n              marginBottom: '8px',\n              lineHeight: 1.3,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical'\n            },\n            children: book.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#6A5E4D',\n              marginBottom: '12px',\n              fontSize: '12px',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap'\n            },\n            children: [\"by \", book.authorName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#D2691E',\n              color: 'white',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              fontSize: '10px',\n              fontWeight: 500,\n              display: 'inline-block'\n            },\n            children: \"In Library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      backgroundColor: '#FAF3E3'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'linear-gradient(90deg, #4B3F30, #5D4A33, #4B3F30)',\n        color: 'white',\n        padding: '48px 0',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '1200px',\n          margin: '0 auto',\n          padding: '0 24px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontFamily: 'Playfair Display, serif',\n            fontSize: '36px',\n            fontWeight: 700,\n            marginBottom: '16px'\n          },\n          children: \"Search Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '18px',\n            color: 'rgba(255, 255, 255, 0.9)',\n            maxWidth: '600px',\n            margin: '0 auto'\n          },\n          children: \"Find books in our library and discover new ones from around the world\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '1200px',\n        margin: '0 auto',\n        padding: '48px 24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        style: {\n          marginBottom: '48px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '16px',\n            maxWidth: '600px',\n            margin: '0 auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1,\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n              style: {\n                position: 'absolute',\n                left: '16px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                color: '#8B7355',\n                fontSize: '20px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              placeholder: \"Search by title, author, or ISBN...\",\n              style: {\n                width: '100%',\n                padding: '16px 16px 16px 48px',\n                border: '1px solid #E6D7C3',\n                borderRadius: '12px',\n                fontSize: '16px',\n                backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                color: '#4B3F30',\n                outline: 'none',\n                transition: 'all 0.2s'\n              },\n              onFocus: e => {\n                e.target.style.borderColor = '#D2691E';\n                e.target.style.boxShadow = '0 0 0 3px rgba(210, 105, 30, 0.1)';\n              },\n              onBlur: e => {\n                e.target.style.borderColor = '#E6D7C3';\n                e.target.style.boxShadow = 'none';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setSearchTerm('');\n                setSearchParams({});\n              },\n              style: {\n                position: 'absolute',\n                right: '16px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                background: 'none',\n                border: 'none',\n                cursor: 'pointer',\n                color: '#8B7355'\n              },\n              children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isSearching || !searchTerm.trim(),\n            style: {\n              backgroundColor: '#D2691E',\n              color: 'white',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '16px 32px',\n              fontSize: '16px',\n              fontWeight: 500,\n              cursor: 'pointer',\n              transition: 'background-color 0.2s',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            onMouseOver: e => {\n              if (!isSearching && searchTerm.trim()) {\n                e.currentTarget.style.backgroundColor = '#B85A1A';\n              }\n            },\n            onMouseOut: e => {\n              if (!isSearching && searchTerm.trim()) {\n                e.currentTarget.style.backgroundColor = '#D2691E';\n              }\n            },\n            children: isSearching ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 16,\n                sx: {\n                  color: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), \"Searching...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), \"Search\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), searchError && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        style: {\n          marginBottom: '32px'\n        },\n        children: searchError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this), query && !isSearching && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontFamily: 'Playfair Display, serif',\n              fontSize: '24px',\n              fontWeight: 600,\n              color: '#4B3F30'\n            },\n            children: [\"Search Results for \\\"\", query, \"\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#6A5E4D',\n              fontSize: '14px'\n            },\n            children: [combinedResults.length, \" book\", combinedResults.length !== 1 ? 's' : '', \" found\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this), combinedResults.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n            gap: '24px'\n          },\n          children: combinedResults.map(renderBookCard)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'rgba(255, 255, 255, 0.8)',\n            backdropFilter: 'blur(10px)',\n            padding: '48px',\n            borderRadius: '16px',\n            border: '1px solid #E6D7C3',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(BookIcon, {\n            style: {\n              color: '#D2691E',\n              fontSize: '64px',\n              marginBottom: '16px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontFamily: 'Playfair Display, serif',\n              fontSize: '20px',\n              fontWeight: 600,\n              color: '#4B3F30',\n              marginBottom: '8px'\n            },\n            children: \"No books found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#6A5E4D'\n            },\n            children: \"Try searching with different keywords or check the spelling\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this), !query && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'rgba(255, 255, 255, 0.8)',\n          backdropFilter: 'blur(10px)',\n          padding: '32px',\n          borderRadius: '16px',\n          border: '1px solid #E6D7C3'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontFamily: 'Playfair Display, serif',\n            fontSize: '20px',\n            fontWeight: 600,\n            color: '#4B3F30',\n            marginBottom: '16px'\n          },\n          children: \"Search Tips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n            gap: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                color: '#4B3F30',\n                marginBottom: '8px'\n              },\n              children: \"\\uD83D\\uDCDA Search by Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6A5E4D',\n                fontSize: '14px'\n              },\n              children: \"Try partial titles like \\\"red rising\\\" to find \\\"Red Rising\\\" and related books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                color: '#4B3F30',\n                marginBottom: '8px'\n              },\n              children: \"\\u270D\\uFE0F Search by Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6A5E4D',\n                fontSize: '14px'\n              },\n              children: \"Find all books by your favorite authors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                color: '#4B3F30',\n                marginBottom: '8px'\n              },\n              children: \"\\uD83D\\uDD0D Search by ISBN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6A5E4D',\n                fontSize: '14px'\n              },\n              children: \"Use ISBN numbers for exact book matches\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                color: '#4B3F30',\n                marginBottom: '8px'\n              },\n              children: \"\\uD83C\\uDF0D Global Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#6A5E4D',\n                fontSize: '14px'\n              },\n              children: \"Results include both our library and books from around the world\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GoogleBookReviewModal, {\n      book: selectedBook,\n      isOpen: isReviewModalOpen,\n      onClose: handleCloseReviewModal,\n      onSubmitReview: handleSubmitReview\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchPage, \"7UscGG2T1E/dKzfsnTSvGfcTGrk=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useSearchParams","CircularProgress","Alert","Search","SearchIcon","Clear","ClearIcon","Book","BookIcon","GoogleBookCard","GoogleBookReviewModal","directApiService","GoogleBookFeedbackService","BookService","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchPage","_s","navigate","searchParams","setSearchParams","query","get","searchTerm","setSearchTerm","isSearching","setIsSearching","searchError","setSearchError","combinedResults","setCombinedResults","selectedBook","setSelectedBook","isReviewModalOpen","setIsReviewModalOpen","performSearch","searchQuery","trim","_localResults$content","localResults","findAllBooks","filteredLocalBooks","content","filter","book","_book$title","_book$authorName","_book$isbn","title","toLowerCase","includes","authorName","isbn","googleResults","getGoogleBooks","convertedGoogleBooks","items","map","item","_item$industryIdentif","_item$industryIdentif2","_item$industryIdentif3","_item$industryIdentif4","_item$authors","_item$imageLinks","isbn13","isbn10","industryIdentifiers","find","id","type","identifier","authors","join","synopsis","description","cover","imageLinks","thumbnail","publishedDate","pageCount","categories","averageRating","ratingsCount","isGoogleBook","googleBookId","filteredGoogleBooks","isDuplicate","some","localBook","_localBook$title","_book$title2","_localBook$authorName","_book$authorName2","combined","source","sortedResults","sort","a","b","_a$title","_b$title","aTitle","bTitle","searchLower","startsWith","error","message","console","handleSearch","e","preventDefault","q","handleReviewClick","handleCloseReviewModal","handleSubmitReview","bookId","rating","review","saveFeedback","bookTitle","renderBookCard","showRating","showReviewButton","onReviewClick","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","backdropFilter","padding","borderRadius","border","boxShadow","cursor","transition","height","onMouseOver","currentTarget","transform","onMouseOut","onClick","children","src","alt","width","objectFit","marginBottom","background","display","alignItems","justifyContent","color","fontSize","fontFamily","fontWeight","lineHeight","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","whiteSpace","minHeight","textAlign","maxWidth","margin","onSubmit","gap","flex","position","left","top","value","onChange","target","placeholder","outline","onFocus","borderColor","onBlur","right","disabled","size","sx","severity","length","gridTemplateColumns","isOpen","onClose","onSubmitReview","_c","$RefreshReg$"],"sources":["/Users/cluckbucks/projects/booknexus-social/frontend/src/pages/SearchPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport {\n  CircularProgress,\n  Alert\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  Clear as ClearIcon,\n  Book as BookIcon,\n  TrendingUp as TrendingIcon\n} from '@mui/icons-material';\nimport GoogleBookCard from '../components/GoogleBookCard';\nimport GoogleBookReviewModal from '../components/GoogleBookReviewModal';\nimport { useGoogleBooksSimple, GoogleBook } from '../hooks/useGoogleBooksSimple';\nimport { directApiService } from '../services/directApi';\nimport { GoogleBookFeedbackService } from '../app/services/services/GoogleBookFeedbackService';\nimport { BookService } from '../app/services/services/BookService';\n\nconst SearchPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('q') || '';\n  \n  // State for search\n  const [searchTerm, setSearchTerm] = useState(query);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState<string | null>(null);\n  \n  // State for results\n  const [combinedResults, setCombinedResults] = useState<any[]>([]);\n  \n  // Modal state\n  const [selectedBook, setSelectedBook] = useState<GoogleBook | null>(null);\n  const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\n\n  // Search function\n  const performSearch = useCallback(async (searchQuery: string) => {\n    if (!searchQuery.trim()) {\n      setCombinedResults([]);\n      return;\n    }\n\n    setIsSearching(true);\n    setSearchError(null);\n\n    try {\n      // Search local database\n      const localResults = await BookService.findAllBooks(0, 50);\n      const filteredLocalBooks = localResults.content?.filter(book => \n        book.title?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        book.authorName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        book.isbn?.includes(searchQuery)\n      ) || [];\n\n      // Search Google Books API\n      const googleResults = await directApiService.getGoogleBooks(searchQuery, 20);\n      const convertedGoogleBooks = (googleResults.items || []).map((item: any) => {\n        // Backend returns flattened structure, not wrapped in volumeInfo\n        const isbn = item.isbn13 || item.isbn10 || \n                     item.industryIdentifiers?.find((id: any) => id.type === 'ISBN_13')?.identifier ||\n                     item.industryIdentifiers?.find((id: any) => id.type === 'ISBN_10')?.identifier ||\n                     '';\n\n        return {\n          id: item.id,\n          title: item.title || 'Unknown Title',\n          authorName: item.authors?.join(', ') || 'Unknown Author',\n          isbn: isbn,\n          synopsis: item.description || 'No description available.',\n          cover: item.imageLinks?.thumbnail || null,\n          publishedDate: item.publishedDate,\n          pageCount: item.pageCount,\n          categories: item.categories,\n          averageRating: item.averageRating || 0,\n          ratingsCount: item.ratingsCount || 0,\n          isGoogleBook: true,\n          googleBookId: item.id\n        };\n      });\n\n      // Filter Google Books to avoid duplicates and low-quality results\n      const filteredGoogleBooks = convertedGoogleBooks.filter((book: GoogleBook) => {\n        // Remove books with very low rating counts (but be more lenient)\n        if (book.ratingsCount > 0 && book.ratingsCount < 5) return false;\n        \n        // Check if this Google Book is already in local database\n        const isDuplicate = filteredLocalBooks.some(localBook => \n          localBook.isbn === book.isbn && book.isbn !== '' ||\n          localBook.title?.toLowerCase() === book.title?.toLowerCase() &&\n          localBook.authorName?.toLowerCase() === book.authorName?.toLowerCase()\n        );\n        \n        return !isDuplicate;\n      });\n\n      // Store filtered results for combination\n\n      // Combine and sort results\n      const combined = [\n        ...filteredLocalBooks.map(book => ({ ...book, source: 'local' })),\n        ...filteredGoogleBooks.map(book => ({ ...book, source: 'google' }))\n      ];\n\n      // Sort by relevance (exact matches first, then partial matches)\n      const sortedResults = combined.sort((a, b) => {\n        const aTitle = a.title?.toLowerCase() || '';\n        const bTitle = b.title?.toLowerCase() || '';\n        const searchLower = searchQuery.toLowerCase();\n        \n        // Exact title match gets highest priority\n        if (aTitle === searchLower && bTitle !== searchLower) return -1;\n        if (bTitle === searchLower && aTitle !== searchLower) return 1;\n        \n        // Starts with search term gets second priority\n        if (aTitle.startsWith(searchLower) && !bTitle.startsWith(searchLower)) return -1;\n        if (bTitle.startsWith(searchLower) && !aTitle.startsWith(searchLower)) return 1;\n        \n        // Higher ratings get priority\n        if (a.averageRating && b.averageRating) {\n          return b.averageRating - a.averageRating;\n        }\n        \n        // Local books get priority over Google books\n        if (a.source === 'local' && b.source === 'google') return -1;\n        if (b.source === 'local' && a.source === 'google') return 1;\n        \n        return 0;\n      });\n\n      setCombinedResults(sortedResults);\n\n    } catch (error: any) {\n      setSearchError(error?.message || 'Search failed');\n      console.error('Search error:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  }, []);\n\n  // Handle search input\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      setSearchParams({ q: searchTerm.trim() });\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // Handle search on query change\n  useEffect(() => {\n    if (query) {\n      setSearchTerm(query);\n      performSearch(query);\n    }\n  }, [query, performSearch]);\n\n  // Review modal handlers\n  const handleReviewClick = (book: GoogleBook) => {\n    setSelectedBook(book);\n    setIsReviewModalOpen(true);\n  };\n\n  const handleCloseReviewModal = () => {\n    setIsReviewModalOpen(false);\n    setSelectedBook(null);\n  };\n\n  const handleSubmitReview = async (bookId: string, rating: number, review: string) => {\n    if (!selectedBook) return;\n    \n    try {\n      await GoogleBookFeedbackService.saveFeedback({\n        googleBookId: bookId,\n        bookTitle: selectedBook.title,\n        authorName: selectedBook.authorName,\n        rating: rating,\n        review: review\n      });\n    } catch (error) {\n      console.error('Failed to save review:', error);\n      throw error;\n    }\n  };\n\n  // Render book card based on source\n  const renderBookCard = (book: any) => {\n    if (book.source === 'google') {\n      return (\n        <GoogleBookCard\n          key={book.googleBookId}\n          book={book}\n          showRating={true}\n          showReviewButton={true}\n          onReviewClick={handleReviewClick}\n        />\n      );\n    } else {\n      // Local book card\n      return (\n        <div\n          key={book.id}\n          style={{\n            backgroundColor: 'rgba(255, 255, 255, 0.8)',\n            backdropFilter: 'blur(10px)',\n            padding: '16px',\n            borderRadius: '12px',\n            border: '1px solid #E6D7C3',\n            boxShadow: '0 4px 12px rgba(75, 63, 48, 0.1)',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            height: '100%'\n          }}\n          onMouseOver={(e) => {\n            e.currentTarget.style.transform = 'translateY(-4px)';\n            e.currentTarget.style.boxShadow = '0 8px 25px rgba(75, 63, 48, 0.15)';\n          }}\n          onMouseOut={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = '0 4px 12px rgba(75, 63, 48, 0.1)';\n          }}\n          onClick={() => navigate(`/books/${book.id}`)}\n        >\n          {book.cover ? (\n            <img\n              src={typeof book.cover === 'string' && book.cover.startsWith('http') ? \n                   `http://localhost:8088/api/v1/books/cover/${book.id}` : \n                   `data:image/jpeg;base64,${book.cover}`}\n              alt={book.title}\n              style={{\n                width: '100%',\n                height: '192px',\n                objectFit: 'cover',\n                borderRadius: '8px',\n                marginBottom: '16px'\n              }}\n            />\n          ) : (\n            <div style={{\n              width: '100%',\n              height: '192px',\n              background: 'linear-gradient(135deg, #F4E3C1, #E6D7C3)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              borderRadius: '8px',\n              marginBottom: '16px'\n            }}>\n              <BookIcon style={{ color: '#8B7355', fontSize: '48px' }} />\n            </div>\n          )}\n          \n          <div>\n            <h4 style={{\n              fontFamily: 'Playfair Display, serif',\n              fontSize: '14px',\n              fontWeight: 600,\n              color: '#4B3F30',\n              marginBottom: '8px',\n              lineHeight: 1.3,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical'\n            }}>\n              {book.title}\n            </h4>\n            <p style={{\n              color: '#6A5E4D',\n              marginBottom: '12px',\n              fontSize: '12px',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap'\n            }}>\n              by {book.authorName}\n            </p>\n            <div style={{\n              backgroundColor: '#D2691E',\n              color: 'white',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              fontSize: '10px',\n              fontWeight: 500,\n              display: 'inline-block'\n            }}>\n              In Library\n            </div>\n          </div>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#FAF3E3' }}>\n      {/* Header */}\n      <div style={{\n        background: 'linear-gradient(90deg, #4B3F30, #5D4A33, #4B3F30)',\n        color: 'white',\n        padding: '48px 0',\n        textAlign: 'center'\n      }}>\n        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 24px' }}>\n          <h1 style={{\n            fontFamily: 'Playfair Display, serif',\n            fontSize: '36px',\n            fontWeight: 700,\n            marginBottom: '16px'\n          }}>\n            Search Books\n          </h1>\n          <p style={{\n            fontSize: '18px',\n            color: 'rgba(255, 255, 255, 0.9)',\n            maxWidth: '600px',\n            margin: '0 auto'\n          }}>\n            Find books in our library and discover new ones from around the world\n          </p>\n        </div>\n      </div>\n\n      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '48px 24px' }}>\n        {/* Search Form */}\n        <form onSubmit={handleSearch} style={{ marginBottom: '48px' }}>\n          <div style={{\n            display: 'flex',\n            gap: '16px',\n            maxWidth: '600px',\n            margin: '0 auto'\n          }}>\n            <div style={{ flex: 1, position: 'relative' }}>\n              <SearchIcon style={{\n                position: 'absolute',\n                left: '16px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                color: '#8B7355',\n                fontSize: '20px'\n              }} />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Search by title, author, or ISBN...\"\n                style={{\n                  width: '100%',\n                  padding: '16px 16px 16px 48px',\n                  border: '1px solid #E6D7C3',\n                  borderRadius: '12px',\n                  fontSize: '16px',\n                  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                  color: '#4B3F30',\n                  outline: 'none',\n                  transition: 'all 0.2s'\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#D2691E';\n                  e.target.style.boxShadow = '0 0 0 3px rgba(210, 105, 30, 0.1)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = '#E6D7C3';\n                  e.target.style.boxShadow = 'none';\n                }}\n              />\n              {searchTerm && (\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setSearchTerm('');\n                    setSearchParams({});\n                  }}\n                  style={{\n                    position: 'absolute',\n                    right: '16px',\n                    top: '50%',\n                    transform: 'translateY(-50%)',\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    color: '#8B7355'\n                  }}\n                >\n                  <ClearIcon />\n                </button>\n              )}\n            </div>\n            <button\n              type=\"submit\"\n              disabled={isSearching || !searchTerm.trim()}\n              style={{\n                backgroundColor: '#D2691E',\n                color: 'white',\n                border: 'none',\n                borderRadius: '12px',\n                padding: '16px 32px',\n                fontSize: '16px',\n                fontWeight: 500,\n                cursor: 'pointer',\n                transition: 'background-color 0.2s',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}\n              onMouseOver={(e) => {\n                if (!isSearching && searchTerm.trim()) {\n                  e.currentTarget.style.backgroundColor = '#B85A1A';\n                }\n              }}\n              onMouseOut={(e) => {\n                if (!isSearching && searchTerm.trim()) {\n                  e.currentTarget.style.backgroundColor = '#D2691E';\n                }\n              }}\n            >\n              {isSearching ? (\n                <>\n                  <CircularProgress size={16} sx={{ color: 'white' }} />\n                  Searching...\n                </>\n              ) : (\n                <>\n                  <SearchIcon />\n                  Search\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n\n        {/* Search Results */}\n        {searchError && (\n          <Alert severity=\"error\" style={{ marginBottom: '32px' }}>\n            {searchError}\n          </Alert>\n        )}\n\n        {query && !isSearching && (\n          <div>\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginBottom: '24px'\n            }}>\n              <h2 style={{\n                fontFamily: 'Playfair Display, serif',\n                fontSize: '24px',\n                fontWeight: 600,\n                color: '#4B3F30'\n              }}>\n                Search Results for \"{query}\"\n              </h2>\n              <div style={{\n                color: '#6A5E4D',\n                fontSize: '14px'\n              }}>\n                {combinedResults.length} book{combinedResults.length !== 1 ? 's' : ''} found\n              </div>\n            </div>\n\n            {combinedResults.length > 0 ? (\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n                gap: '24px'\n              }}>\n                {combinedResults.map(renderBookCard)}\n              </div>\n            ) : (\n              <div style={{\n                backgroundColor: 'rgba(255, 255, 255, 0.8)',\n                backdropFilter: 'blur(10px)',\n                padding: '48px',\n                borderRadius: '16px',\n                border: '1px solid #E6D7C3',\n                textAlign: 'center'\n              }}>\n                <BookIcon style={{ color: '#D2691E', fontSize: '64px', marginBottom: '16px' }} />\n                <h3 style={{\n                  fontFamily: 'Playfair Display, serif',\n                  fontSize: '20px',\n                  fontWeight: 600,\n                  color: '#4B3F30',\n                  marginBottom: '8px'\n                }}>\n                  No books found\n                </h3>\n                <p style={{ color: '#6A5E4D' }}>\n                  Try searching with different keywords or check the spelling\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Search Tips */}\n        {!query && (\n          <div style={{\n            backgroundColor: 'rgba(255, 255, 255, 0.8)',\n            backdropFilter: 'blur(10px)',\n            padding: '32px',\n            borderRadius: '16px',\n            border: '1px solid #E6D7C3'\n          }}>\n            <h3 style={{\n              fontFamily: 'Playfair Display, serif',\n              fontSize: '20px',\n              fontWeight: 600,\n              color: '#4B3F30',\n              marginBottom: '16px'\n            }}>\n              Search Tips\n            </h3>\n            <div style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n              gap: '16px'\n            }}>\n              <div>\n                <h4 style={{ color: '#4B3F30', marginBottom: '8px' }}> Search by Title</h4>\n                <p style={{ color: '#6A5E4D', fontSize: '14px' }}>\n                  Try partial titles like \"red rising\" to find \"Red Rising\" and related books\n                </p>\n              </div>\n              <div>\n                <h4 style={{ color: '#4B3F30', marginBottom: '8px' }}> Search by Author</h4>\n                <p style={{ color: '#6A5E4D', fontSize: '14px' }}>\n                  Find all books by your favorite authors\n                </p>\n              </div>\n              <div>\n                <h4 style={{ color: '#4B3F30', marginBottom: '8px' }}> Search by ISBN</h4>\n                <p style={{ color: '#6A5E4D', fontSize: '14px' }}>\n                  Use ISBN numbers for exact book matches\n                </p>\n              </div>\n              <div>\n                <h4 style={{ color: '#4B3F30', marginBottom: '8px' }}> Global Search</h4>\n                <p style={{ color: '#6A5E4D', fontSize: '14px' }}>\n                  Results include both our library and books from around the world\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Google Book Review Modal */}\n      <GoogleBookReviewModal\n        book={selectedBook}\n        isOpen={isReviewModalOpen}\n        onClose={handleCloseReviewModal}\n        onSubmitReview={handleSubmitReview}\n      />\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}