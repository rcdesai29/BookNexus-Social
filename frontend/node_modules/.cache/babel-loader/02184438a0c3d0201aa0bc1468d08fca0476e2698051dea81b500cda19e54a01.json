{"ast":null,"code":"import{Alert,Button,Card,CardContent,CardMedia,CircularProgress,Container,Typography}from'@mui/material';import React from'react';import{useNavigate}from'react-router-dom';import PaginationControls from'../components/PaginationControls';import{useMyBooks}from'../hooks/useMyBooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyBooksPage=()=>{const{data,loading,error,page,setPage,size,setSize}=useMyBooks();const books=(data===null||data===void 0?void 0:data.content)||[];const navigate=useNavigate();return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"My Books\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error.message||String(error)}),books.length===0&&!loading&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"You haven't uploaded any books yet.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"book-list-grid\",children:books.map(book=>/*#__PURE__*/_jsx(\"div\",{className:\"book-list-card\",children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',cursor:'pointer',width:'100%',maxWidth:280},onClick:()=>navigate(`/books/${book.id}`),children:[book.cover?/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"120\",image:`data:image/jpeg;base64,${book.cover}`,alt:book.title,sx:{objectFit:'contain'}}):/*#__PURE__*/_jsx(CardMedia,{component:\"div\",sx:{height:120,background:'#eee',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No Cover\"})}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,p:1.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"div\",sx:{fontWeight:'bold',mb:0.5,lineHeight:1.2},children:book.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:1},children:[\"by \",book.authorName]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",fullWidth:true,onClick:e=>{e.stopPropagation();navigate(`/books/${book.id}`);},children:\"View Details\"})]})]})},book.id))}),data&&/*#__PURE__*/_jsx(PaginationControls,{currentPage:page,totalPages:data.totalPages||0,pageSize:size,totalElements:data.totalElements||0,onPageChange:setPage,onPageSizeChange:setSize,loading:loading})]});};export default MyBooksPage;","map":{"version":3,"names":["Alert","Button","Card","CardContent","CardMedia","CircularProgress","Container","Typography","React","useNavigate","PaginationControls","useMyBooks","jsx","_jsx","jsxs","_jsxs","MyBooksPage","data","loading","error","page","setPage","size","setSize","books","content","navigate","maxWidth","sx","mt","children","variant","gutterBottom","severity","message","String","length","color","className","map","book","height","display","flexDirection","cursor","width","onClick","id","cover","component","image","alt","title","objectFit","background","alignItems","justifyContent","flexGrow","p","fontWeight","mb","lineHeight","authorName","fullWidth","e","stopPropagation","currentPage","totalPages","pageSize","totalElements","onPageChange","onPageSizeChange"],"sources":["/Users/rahildesai/Projects/BookNexus/frontend/src/pages/MyBooksPage.tsx"],"sourcesContent":["import { Alert, Button, Card, CardContent, CardMedia, CircularProgress, Container, Typography } from '@mui/material';\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport PaginationControls from '../components/PaginationControls';\nimport { useMyBooks } from '../hooks/useMyBooks';\n\nconst MyBooksPage: React.FC = () => {\n  const { data, loading, error, page, setPage, size, setSize } = useMyBooks();\n  const books = data?.content || [];\n  const navigate = useNavigate();\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ mt: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>My Books</Typography>\n      {loading && <CircularProgress />}\n      {error && <Alert severity=\"error\">{error.message || String(error)}</Alert>}\n      \n      {books.length === 0 && !loading && (\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          You haven't uploaded any books yet.\n        </Typography>\n      )}\n\n      <div className=\"book-list-grid\">\n        {books.map(book => (\n          <div className=\"book-list-card\" key={book.id}>\n            <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column', cursor: 'pointer', width: '100%', maxWidth: 280 }} onClick={() => navigate(`/books/${book.id}`)}>\n              {book.cover ? (\n                <CardMedia\n                  component=\"img\"\n                  height=\"120\"\n                  image={`data:image/jpeg;base64,${book.cover}`}\n                  alt={book.title}\n                  sx={{ objectFit: 'contain' }}\n                />\n              ) : (\n                <CardMedia\n                  component=\"div\"\n                  sx={{ height: 120, background: '#eee', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    No Cover\n                  </Typography>\n                </CardMedia>\n              )}\n              <CardContent sx={{ flexGrow: 1, p: 1.5 }}>\n                <Typography variant=\"subtitle1\" component=\"div\" sx={{ fontWeight: 'bold', mb: 0.5, lineHeight: 1.2 }}>\n                  {book.title}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  by {book.authorName}\n                </Typography>\n                <Button \n                  variant=\"outlined\" \n                  size=\"small\" \n                  fullWidth\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    navigate(`/books/${book.id}`);\n                  }}\n                >\n                  View Details\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        ))}\n      </div>\n      {data && (\n        <PaginationControls\n          currentPage={page}\n          totalPages={data.totalPages || 0}\n          pageSize={size}\n          totalElements={data.totalElements || 0}\n          onPageChange={setPage}\n          onPageSizeChange={setSize}\n          loading={loading}\n        />\n      )}\n    </Container>\n  );\n};\n\nexport default MyBooksPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}