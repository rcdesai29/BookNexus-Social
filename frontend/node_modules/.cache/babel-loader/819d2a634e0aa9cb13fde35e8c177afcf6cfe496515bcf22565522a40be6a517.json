{"ast":null,"code":"import{Dialog,DialogTitle,DialogContent,DialogActions,Button,TextField,Rating,FormControlLabel,Checkbox,Box,Typography,IconButton}from'@mui/material';import CloseIcon from'@mui/icons-material/Close';import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ReviewModal=_ref=>{let{open,onClose,onSubmit,bookTitle,loading=false}=_ref;const[rating,setRating]=useState(0);const[review,setReview]=useState('');const[isAnonymous,setIsAnonymous]=useState(false);const handleSubmit=()=>{if(rating>0){onSubmit(rating,review,isAnonymous);}};const handleClose=()=>{setRating(0);setReview('');setIsAnonymous(false);onClose();};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Review \\\"\",bookTitle,\"\\\"\"]}),/*#__PURE__*/_jsx(IconButton,{onClick:handleClose,size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{})})]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",variant:\"subtitle1\",sx:{mb:1},children:\"Rating *\"}),/*#__PURE__*/_jsx(Rating,{name:\"book-rating\",value:rating,onChange:(_,newValue)=>setRating(newValue||0),size:\"large\",precision:1}),rating>0&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:[\"You rated this book \",rating,\" star\",rating!==1?'s':'']})]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:4,label:\"Review (optional)\",value:review,onChange:e=>setReview(e.target.value),placeholder:\"Share your thoughts about this book...\",sx:{mb:2}}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:isAnonymous,onChange:e=>setIsAnonymous(e.target.checked)}),label:\"Post review anonymously\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,disabled:loading,children:\"Skip\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,variant:\"contained\",disabled:rating===0||loading,children:loading?'Submitting...':'Submit Review'})]})]});};export default ReviewModal;","map":{"version":3,"names":["Dialog","DialogTitle","DialogContent","DialogActions","Button","TextField","Rating","FormControlLabel","Checkbox","Box","Typography","IconButton","CloseIcon","React","useState","jsxs","_jsxs","jsx","_jsx","ReviewModal","_ref","open","onClose","onSubmit","bookTitle","loading","rating","setRating","review","setReview","isAnonymous","setIsAnonymous","handleSubmit","handleClose","maxWidth","fullWidth","children","display","justifyContent","alignItems","variant","onClick","size","sx","mb","component","name","value","onChange","_","newValue","precision","color","mt","multiline","rows","label","e","target","placeholder","control","checked","disabled"],"sources":["/Users/cluckbucks/projects/booknexus-social/frontend/src/components/ReviewModal.tsx"],"sourcesContent":["import {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Rating,\n  FormControlLabel,\n  Checkbox,\n  Box,\n  Typography,\n  IconButton\n} from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport React, { useState } from 'react';\n\ninterface ReviewModalProps {\n  open: boolean;\n  onClose: () => void;\n  onSubmit: (rating: number, review: string, isAnonymous: boolean) => void;\n  bookTitle: string;\n  loading?: boolean;\n}\n\nconst ReviewModal: React.FC<ReviewModalProps> = ({ \n  open, \n  onClose, \n  onSubmit, \n  bookTitle, \n  loading = false \n}) => {\n  const [rating, setRating] = useState<number>(0);\n  const [review, setReview] = useState<string>('');\n  const [isAnonymous, setIsAnonymous] = useState<boolean>(false);\n\n  const handleSubmit = () => {\n    if (rating > 0) {\n      onSubmit(rating, review, isAnonymous);\n    }\n  };\n\n  const handleClose = () => {\n    setRating(0);\n    setReview('');\n    setIsAnonymous(false);\n    onClose();\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography variant=\"h6\">Review \"{bookTitle}\"</Typography>\n          <IconButton onClick={handleClose} size=\"small\">\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n      <DialogContent>\n        <Box sx={{ mb: 3 }}>\n          <Typography component=\"legend\" variant=\"subtitle1\" sx={{ mb: 1 }}>\n            Rating *\n          </Typography>\n          <Rating\n            name=\"book-rating\"\n            value={rating}\n            onChange={(_, newValue) => setRating(newValue || 0)}\n            size=\"large\"\n            precision={1}\n          />\n          {rating > 0 && (\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n              You rated this book {rating} star{rating !== 1 ? 's' : ''}\n            </Typography>\n          )}\n        </Box>\n        \n        <TextField\n          fullWidth\n          multiline\n          rows={4}\n          label=\"Review (optional)\"\n          value={review}\n          onChange={(e) => setReview(e.target.value)}\n          placeholder=\"Share your thoughts about this book...\"\n          sx={{ mb: 2 }}\n        />\n        \n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={isAnonymous}\n              onChange={(e) => setIsAnonymous(e.target.checked)}\n            />\n          }\n          label=\"Post review anonymously\"\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} disabled={loading}>\n          Skip\n        </Button>\n        <Button \n          onClick={handleSubmit} \n          variant=\"contained\" \n          disabled={rating === 0 || loading}\n        >\n          {loading ? 'Submitting...' : 'Submit Review'}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ReviewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}