{"ast":null,"code":"import{Alert,Box,Button,Container,TextField,Typography}from'@mui/material';import React,{useState}from'react';import{Link}from'react-router-dom';import{AuthenticationService}from'../app/services/services/AuthenticationService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterPage=()=>{const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[validationErrors,setValidationErrors]=useState([]);const[success,setSuccess]=useState(false);const handleSubmit=async e=>{e.preventDefault();setError(null);setSuccess(false);const errors=[];if(!firstName)errors.push('First name is mandatory');if(!lastName)errors.push('Last name is mandatory');if(!email)errors.push('Email is mandatory');if(!password)errors.push('Password is mandatory');if(password&&password.length<8)errors.push('Password should be at least 8 characters long');if(password!==confirmPassword)errors.push('Passwords do not match');setValidationErrors(errors);if(errors.length>0)return;setLoading(true);try{await AuthenticationService.register({firstName,lastName,email,password});setSuccess(true);}catch(err){var _err$body;setError((err===null||err===void 0?void 0:(_err$body=err.body)===null||_err$body===void 0?void 0:_err$body.message)||'Registration failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xs\",sx:{mt:8},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Register\"}),validationErrors.length>0&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:/*#__PURE__*/_jsx(\"ul\",{style:{margin:0,paddingLeft:20},children:validationErrors.map((err,idx)=>/*#__PURE__*/_jsx(\"li\",{children:err},idx))})}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),success&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:2},children:\"Registration successful! Please check your email to activate your account.\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"First Name\",type:\"text\",value:firstName,onChange:e=>setFirstName(e.target.value),fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Last Name\",type:\"text\",value:lastName,onChange:e=>setLastName(e.target.value),fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Confirm Password\",type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,disabled:loading,sx:{mt:2},children:loading?'Registering...':'Register'})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login here\"})]})]});};export default RegisterPage;","map":{"version":3,"names":["Alert","Box","Button","Container","TextField","Typography","React","useState","Link","AuthenticationService","jsx","_jsx","jsxs","_jsxs","RegisterPage","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","validationErrors","setValidationErrors","success","setSuccess","handleSubmit","e","preventDefault","errors","push","length","register","err","_err$body","body","message","maxWidth","sx","mt","children","variant","gutterBottom","severity","mb","style","margin","paddingLeft","map","idx","component","onSubmit","label","type","value","onChange","target","fullWidth","required","color","disabled","to"],"sources":["/Users/cluckbucks/projects/booknexus-social/frontend/src/pages/RegisterPage.tsx"],"sourcesContent":["import { Alert, Box, Button, Container, TextField, Typography } from '@mui/material';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthenticationService } from '../app/services/services/AuthenticationService';\n\nconst RegisterPage: React.FC = () => {\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [validationErrors, setValidationErrors] = useState<string[]>([]);\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(false);\n\n    const errors: string[] = [];\n    if (!firstName) errors.push('First name is mandatory');\n    if (!lastName) errors.push('Last name is mandatory');\n    if (!email) errors.push('Email is mandatory');\n    if (!password) errors.push('Password is mandatory');\n    if (password && password.length < 8) errors.push('Password should be at least 8 characters long');\n    if (password !== confirmPassword) errors.push('Passwords do not match');\n    setValidationErrors(errors);\n    if (errors.length > 0) return;\n\n    setLoading(true);\n    try {\n      await AuthenticationService.register({ firstName, lastName, email, password });\n      setSuccess(true);\n    } catch (err: any) {\n      setError(err?.body?.message || 'Registration failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"xs\" sx={{ mt: 8 }}>\n      <Typography variant=\"h4\" gutterBottom>Register</Typography>\n      {validationErrors.length > 0 && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          <ul style={{ margin: 0, paddingLeft: 20 }}>\n            {validationErrors.map((err, idx) => <li key={idx}>{err}</li>)}\n          </ul>\n        </Alert>\n      )}\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>Registration successful! Please check your email to activate your account.</Alert>}\n      <Box component=\"form\" onSubmit={handleSubmit}>\n        <TextField\n          label=\"First Name\"\n          type=\"text\"\n          value={firstName}\n          onChange={e => setFirstName(e.target.value)}\n          fullWidth\n          margin=\"normal\"\n          required\n        />\n        <TextField\n          label=\"Last Name\"\n          type=\"text\"\n          value={lastName}\n          onChange={e => setLastName(e.target.value)}\n          fullWidth\n          margin=\"normal\"\n          required\n        />\n        <TextField\n          label=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          fullWidth\n          margin=\"normal\"\n          required\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          fullWidth\n          margin=\"normal\"\n          required\n        />\n        <TextField\n          label=\"Confirm Password\"\n          type=\"password\"\n          value={confirmPassword}\n          onChange={e => setConfirmPassword(e.target.value)}\n          fullWidth\n          margin=\"normal\"\n          required\n        />\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth disabled={loading} sx={{ mt: 2 }}>\n          {loading ? 'Registering...' : 'Register'}\n        </Button>\n      </Box>\n      <Box sx={{ mt: 2 }}>\n        Already have an account? <Link to=\"/login\">Login here</Link>\n      </Box>\n    </Container>\n  );\n};\n\nexport default RegisterPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}