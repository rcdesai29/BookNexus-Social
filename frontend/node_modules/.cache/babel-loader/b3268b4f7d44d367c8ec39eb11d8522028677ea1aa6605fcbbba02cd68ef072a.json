{"ast":null,"code":"var _jsxFileName = \"/Users/rahildesai/Projects/BookNexus/frontend/src/components/BookActions.tsx\",\n  _s = $RefreshSig$();\nimport { Alert, Button, Snackbar, Stack } from '@mui/material';\nimport React, { useState } from 'react';\nimport { BookService } from '../app/services/services/BookService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookActions = ({\n  bookId,\n  isBorrowed,\n  canApproveReturn\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n  const [open, setOpen] = useState(false);\n  const handleAction = async action => {\n    setLoading(true);\n    setError(null);\n    setMessage(null);\n    try {\n      if (action === 'borrow') {\n        await BookService.borrowBook(bookId);\n        setMessage('Book borrowed successfully!');\n      } else if (action === 'return') {\n        await BookService.returnBorrowBook(bookId);\n        setMessage('Return request sent!');\n      } else if (action === 'approveReturn') {\n        await BookService.approveReturnBorrowBook(bookId);\n        setMessage('Return approved!');\n      }\n    } catch (err) {\n      var _err$body;\n      setError((err === null || err === void 0 ? void 0 : (_err$body = err.body) === null || _err$body === void 0 ? void 0 : _err$body.message) || 'Action failed');\n    } finally {\n      setLoading(false);\n      setOpen(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 2,\n      sx: {\n        mt: 2\n      },\n      children: [!isBorrowed && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: () => handleAction('borrow'),\n        disabled: loading,\n        children: \"Borrow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this), isBorrowed && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: () => handleAction('return'),\n        disabled: loading,\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 24\n      }, this), canApproveReturn && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: () => handleAction('approveReturn'),\n        disabled: loading,\n        children: \"Approve Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: open,\n      autoHideDuration: 4000,\n      onClose: () => setOpen(false),\n      children: error ? /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        onClose: () => setOpen(false),\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this) : message ? /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        onClose: () => setOpen(false),\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this) : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BookActions, \"LyixANUXsFIA06ODo+dwnS4iMHc=\");\n_c = BookActions;\nexport default BookActions;\nvar _c;\n$RefreshReg$(_c, \"BookActions\");","map":{"version":3,"names":["Alert","Button","Snackbar","Stack","React","useState","BookService","jsxDEV","_jsxDEV","Fragment","_Fragment","BookActions","bookId","isBorrowed","canApproveReturn","_s","loading","setLoading","message","setMessage","error","setError","open","setOpen","handleAction","action","borrowBook","returnBorrowBook","approveReturnBorrowBook","err","_err$body","body","children","direction","spacing","sx","mt","variant","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","autoHideDuration","onClose","severity","undefined","_c","$RefreshReg$"],"sources":["/Users/rahildesai/Projects/BookNexus/frontend/src/components/BookActions.tsx"],"sourcesContent":["import { Alert, Button, Snackbar, Stack } from '@mui/material';\nimport React, { useState } from 'react';\nimport { BookService } from '../app/services/services/BookService';\n\ninterface BookActionsProps {\n  bookId: number;\n  isBorrowed?: boolean;\n  canApproveReturn?: boolean;\n}\n\nconst BookActions: React.FC<BookActionsProps> = ({ bookId, isBorrowed, canApproveReturn }) => {\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [open, setOpen] = useState(false);\n\n  const handleAction = async (action: 'borrow' | 'return' | 'approveReturn') => {\n    setLoading(true);\n    setError(null);\n    setMessage(null);\n    try {\n      if (action === 'borrow') {\n        await BookService.borrowBook(bookId);\n        setMessage('Book borrowed successfully!');\n      } else if (action === 'return') {\n        await BookService.returnBorrowBook(bookId);\n        setMessage('Return request sent!');\n      } else if (action === 'approveReturn') {\n        await BookService.approveReturnBorrowBook(bookId);\n        setMessage('Return approved!');\n      }\n    } catch (err: any) {\n      setError(err?.body?.message || 'Action failed');\n    } finally {\n      setLoading(false);\n      setOpen(true);\n    }\n  };\n\n  return (\n    <>\n      <Stack direction=\"row\" spacing={2} sx={{ mt: 2 }}>\n        {!isBorrowed && <Button variant=\"contained\" onClick={() => handleAction('borrow')} disabled={loading}>Borrow</Button>}\n        {isBorrowed && <Button variant=\"outlined\" onClick={() => handleAction('return')} disabled={loading}>Return</Button>}\n        {canApproveReturn && <Button variant=\"outlined\" onClick={() => handleAction('approveReturn')} disabled={loading}>Approve Return</Button>}\n      </Stack>\n      <Snackbar open={open} autoHideDuration={4000} onClose={() => setOpen(false)}>\n        {error\n          ? <Alert severity=\"error\" onClose={() => setOpen(false)}>{error}</Alert>\n          : message\n            ? <Alert severity=\"success\" onClose={() => setOpen(false)}>{message}</Alert>\n            : undefined}\n      </Snackbar>\n    </>\n  );\n};\n\nexport default BookActions; "],"mappings":";;AAAA,SAASA,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,eAAe;AAC9D,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,sCAAsC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAQnE,MAAMC,WAAuC,GAAGA,CAAC;EAAEC,MAAM;EAAEC,UAAU;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EAC5F,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAgB,IAAI,CAAC;EAC3D,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAEvC,MAAMmB,YAAY,GAAG,MAAOC,MAA6C,IAAK;IAC5ER,UAAU,CAAC,IAAI,CAAC;IAChBI,QAAQ,CAAC,IAAI,CAAC;IACdF,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,IAAIM,MAAM,KAAK,QAAQ,EAAE;QACvB,MAAMnB,WAAW,CAACoB,UAAU,CAACd,MAAM,CAAC;QACpCO,UAAU,CAAC,6BAA6B,CAAC;MAC3C,CAAC,MAAM,IAAIM,MAAM,KAAK,QAAQ,EAAE;QAC9B,MAAMnB,WAAW,CAACqB,gBAAgB,CAACf,MAAM,CAAC;QAC1CO,UAAU,CAAC,sBAAsB,CAAC;MACpC,CAAC,MAAM,IAAIM,MAAM,KAAK,eAAe,EAAE;QACrC,MAAMnB,WAAW,CAACsB,uBAAuB,CAAChB,MAAM,CAAC;QACjDO,UAAU,CAAC,kBAAkB,CAAC;MAChC;IACF,CAAC,CAAC,OAAOU,GAAQ,EAAE;MAAA,IAAAC,SAAA;MACjBT,QAAQ,CAAC,CAAAQ,GAAG,aAAHA,GAAG,wBAAAC,SAAA,GAAHD,GAAG,CAAEE,IAAI,cAAAD,SAAA,uBAATA,SAAA,CAAWZ,OAAO,KAAI,eAAe,CAAC;IACjD,CAAC,SAAS;MACRD,UAAU,CAAC,KAAK,CAAC;MACjBM,OAAO,CAAC,IAAI,CAAC;IACf;EACF,CAAC;EAED,oBACEf,OAAA,CAAAE,SAAA;IAAAsB,QAAA,gBACExB,OAAA,CAACL,KAAK;MAAC8B,SAAS,EAAC,KAAK;MAACC,OAAO,EAAE,CAAE;MAACC,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAJ,QAAA,GAC9C,CAACnB,UAAU,iBAAIL,OAAA,CAACP,MAAM;QAACoC,OAAO,EAAC,WAAW;QAACC,OAAO,EAAEA,CAAA,KAAMd,YAAY,CAAC,QAAQ,CAAE;QAACe,QAAQ,EAAEvB,OAAQ;QAAAgB,QAAA,EAAC;MAAM;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACpH9B,UAAU,iBAAIL,OAAA,CAACP,MAAM;QAACoC,OAAO,EAAC,UAAU;QAACC,OAAO,EAAEA,CAAA,KAAMd,YAAY,CAAC,QAAQ,CAAE;QAACe,QAAQ,EAAEvB,OAAQ;QAAAgB,QAAA,EAAC;MAAM;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAClH7B,gBAAgB,iBAAIN,OAAA,CAACP,MAAM;QAACoC,OAAO,EAAC,UAAU;QAACC,OAAO,EAAEA,CAAA,KAAMd,YAAY,CAAC,eAAe,CAAE;QAACe,QAAQ,EAAEvB,OAAQ;QAAAgB,QAAA,EAAC;MAAc;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnI,CAAC,eACRnC,OAAA,CAACN,QAAQ;MAACoB,IAAI,EAAEA,IAAK;MAACsB,gBAAgB,EAAE,IAAK;MAACC,OAAO,EAAEA,CAAA,KAAMtB,OAAO,CAAC,KAAK,CAAE;MAAAS,QAAA,EACzEZ,KAAK,gBACFZ,OAAA,CAACR,KAAK;QAAC8C,QAAQ,EAAC,OAAO;QAACD,OAAO,EAAEA,CAAA,KAAMtB,OAAO,CAAC,KAAK,CAAE;QAAAS,QAAA,EAAEZ;MAAK;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,GACtEzB,OAAO,gBACLV,OAAA,CAACR,KAAK;QAAC8C,QAAQ,EAAC,SAAS;QAACD,OAAO,EAAEA,CAAA,KAAMtB,OAAO,CAAC,KAAK,CAAE;QAAAS,QAAA,EAAEd;MAAO;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,GAC1EI;IAAS;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAAA,eACX,CAAC;AAEP,CAAC;AAAC5B,EAAA,CA7CIJ,WAAuC;AAAAqC,EAAA,GAAvCrC,WAAuC;AA+C7C,eAAeA,WAAW;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}