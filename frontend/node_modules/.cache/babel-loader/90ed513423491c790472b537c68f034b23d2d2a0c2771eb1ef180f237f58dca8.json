{"ast":null,"code":"import{Alert,Box,CircularProgress,Container,Typography}from'@mui/material';import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{BookService}from'../app/services/services/BookService';import BookActions from'../components/BookActions';import BookFeedback from'../components/BookFeedback';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookDetailPage=()=>{const{id}=useParams();const[book,setBook]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Placeholder logic for status\nconst isBorrowed=false;// TODO: Replace with real logic\nconst canApproveReturn=false;// TODO: Replace with real logic\nuseEffect(()=>{if(!id)return;setLoading(true);BookService.findBookById(Number(id)).then(setBook).catch(setError).finally(()=>setLoading(false));},[id]);if(loading)return/*#__PURE__*/_jsx(Container,{sx:{mt:4},children:/*#__PURE__*/_jsx(CircularProgress,{})});if(error)return/*#__PURE__*/_jsx(Container,{sx:{mt:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error.message||String(error)})});if(!book)return/*#__PURE__*/_jsx(Container,{sx:{mt:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Book not found.\"})});return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:book.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",gutterBottom:true,children:[\"by \",book.authorName]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"ISBN: \",book.isbn]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",gutterBottom:true,children:book.synopsis}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(BookActions,{bookId:book.id,isBorrowed:isBorrowed,canApproveReturn:canApproveReturn})}),/*#__PURE__*/_jsx(BookFeedback,{bookId:book.id})]});};export default BookDetailPage;","map":{"version":3,"names":["Alert","Box","CircularProgress","Container","Typography","React","useEffect","useState","useParams","BookService","BookActions","BookFeedback","jsx","_jsx","jsxs","_jsxs","BookDetailPage","id","book","setBook","loading","setLoading","error","setError","isBorrowed","canApproveReturn","findBookById","Number","then","catch","finally","sx","mt","children","severity","message","String","maxWidth","variant","gutterBottom","title","authorName","isbn","synopsis","bookId"],"sources":["/Users/rahildesai/Projects/BookNexus/frontend/src/pages/BookDetailPage.tsx"],"sourcesContent":["import { Alert, Box, CircularProgress, Container, Typography } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport type { BookResponse } from '../app/services/models/BookResponse';\nimport { BookService } from '../app/services/services/BookService';\nimport BookActions from '../components/BookActions';\nimport BookFeedback from '../components/BookFeedback';\n\nconst BookDetailPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const [book, setBook] = useState<BookResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<any>(null);\n\n  // Placeholder logic for status\n  const isBorrowed = false; // TODO: Replace with real logic\n  const canApproveReturn = false; // TODO: Replace with real logic\n\n  useEffect(() => {\n    if (!id) return;\n    setLoading(true);\n    BookService.findBookById(Number(id))\n      .then(setBook)\n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, [id]);\n\n  if (loading) return <Container sx={{ mt: 4 }}><CircularProgress /></Container>;\n  if (error) return <Container sx={{ mt: 4 }}><Alert severity=\"error\">{error.message || String(error)}</Alert></Container>;\n  if (!book) return <Container sx={{ mt: 4 }}><Alert severity=\"info\">Book not found.</Alert></Container>;\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ mt: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>{book.title}</Typography>\n      <Typography variant=\"subtitle1\" gutterBottom>by {book.authorName}</Typography>\n      <Typography variant=\"body1\" gutterBottom>ISBN: {book.isbn}</Typography>\n      <Typography variant=\"body2\" gutterBottom>{book.synopsis}</Typography>\n      <Box sx={{ mt: 2 }}>\n        <BookActions bookId={book.id!} isBorrowed={isBorrowed} canApproveReturn={canApproveReturn} />\n      </Box>\n      <BookFeedback bookId={book.id!} />\n    </Container>\n  );\n};\n\nexport default BookDetailPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}