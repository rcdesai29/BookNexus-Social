{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { BookService } from '../app/services/services/BookService';\nimport { tokenService } from '../services/tokenService';\nexport function useMyBooks(initialPage = 0, initialSize = 12) {\n  _s();\n  const [page, setPage] = useState(initialPage);\n  const [size, setSize] = useState(initialSize);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!tokenService.isLoggedIn()) {\n      setLoading(false);\n      setError(null);\n      setData(null);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    BookService.findAllBooksByOwner(page, size).then(setData).catch(setError).finally(() => setLoading(false));\n  }, [page, size]);\n  return {\n    data,\n    loading,\n    error,\n    page,\n    setPage,\n    size,\n    setSize\n  };\n}\n_s(useMyBooks, \"U1Tn3MqAPu4xnsKIMrVj+raPcxs=\");","map":{"version":3,"names":["useEffect","useState","BookService","tokenService","useMyBooks","initialPage","initialSize","_s","page","setPage","size","setSize","data","setData","loading","setLoading","error","setError","isLoggedIn","findAllBooksByOwner","then","catch","finally"],"sources":["/Users/cluckbucks/projects/booknexus-social/frontend/src/hooks/useMyBooks.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport type { PageResponseBookResponse } from '../app/services/models/PageResponseBookResponse';\nimport { BookService } from '../app/services/services/BookService';\nimport { tokenService } from '../services/tokenService';\n\nexport function useMyBooks(initialPage: number = 0, initialSize: number = 12) {\n  const [page, setPage] = useState(initialPage);\n  const [size, setSize] = useState(initialSize);\n  const [data, setData] = useState<PageResponseBookResponse | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<any>(null);\n\n  useEffect(() => {\n    if (!tokenService.isLoggedIn()) {\n      setLoading(false);\n      setError(null);\n      setData(null);\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    BookService.findAllBooksByOwner(page, size)\n      .then(setData)\n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, [page, size]);\n\n  return { data, loading, error, page, setPage, size, setSize };\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,WAAW,QAAQ,sCAAsC;AAClE,SAASC,YAAY,QAAQ,0BAA0B;AAEvD,OAAO,SAASC,UAAUA,CAACC,WAAmB,GAAG,CAAC,EAAEC,WAAmB,GAAG,EAAE,EAAE;EAAAC,EAAA;EAC5E,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAACI,WAAW,CAAC;EAC7C,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAACK,WAAW,CAAC;EAC7C,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAkC,IAAI,CAAC;EACvE,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAU,IAAI,CAAC;EACrD,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAM,IAAI,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACd,IAAI,CAACG,YAAY,CAACe,UAAU,CAAC,CAAC,EAAE;MAC9BH,UAAU,CAAC,KAAK,CAAC;MACjBE,QAAQ,CAAC,IAAI,CAAC;MACdJ,OAAO,CAAC,IAAI,CAAC;MACb;IACF;IAEAE,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACdf,WAAW,CAACiB,mBAAmB,CAACX,IAAI,EAAEE,IAAI,CAAC,CACxCU,IAAI,CAACP,OAAO,CAAC,CACbQ,KAAK,CAACJ,QAAQ,CAAC,CACfK,OAAO,CAAC,MAAMP,UAAU,CAAC,KAAK,CAAC,CAAC;EACrC,CAAC,EAAE,CAACP,IAAI,EAAEE,IAAI,CAAC,CAAC;EAEhB,OAAO;IAAEE,IAAI;IAAEE,OAAO;IAAEE,KAAK;IAAER,IAAI;IAAEC,OAAO;IAAEC,IAAI;IAAEC;EAAQ,CAAC;AAC/D;AAACJ,EAAA,CAxBeH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}