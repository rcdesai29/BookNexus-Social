{"ast":null,"code":"import Alert from'@mui/material/Alert';import Button from'@mui/material/Button';import Card from'@mui/material/Card';import CardContent from'@mui/material/CardContent';import CardMedia from'@mui/material/CardMedia';import CircularProgress from'@mui/material/CircularProgress';import Container from'@mui/material/Container';import Typography from'@mui/material/Typography';import React from'react';import{useNavigate}from'react-router-dom';import{useBooks}from'../hooks/useBooks';import PaginationControls from'../components/PaginationControls';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookListPage=()=>{var _data$content;const{data,loading,error,page,setPage,size,setSize}=useBooks();const navigate=useNavigate();return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"All Books\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error.message||String(error)}),/*#__PURE__*/_jsx(\"div\",{className:\"book-list-grid\",children:data===null||data===void 0?void 0:(_data$content=data.content)===null||_data$content===void 0?void 0:_data$content.map(book=>/*#__PURE__*/_jsx(\"div\",{className:\"book-list-card\",children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',cursor:'pointer',width:'100%',maxWidth:280,minWidth:200},onClick:()=>navigate(`/books/${book.id}`),children:[book.cover?/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"120\",image:`data:image/jpeg;base64,${book.cover}`,alt:book.title,sx:{objectFit:'contain'}}):/*#__PURE__*/_jsx(CardMedia,{component:\"div\",sx:{height:120,background:'#eee',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No Cover\"})}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,p:1.5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",component:\"div\",sx:{fontWeight:'bold',mb:0.5,lineHeight:1.2},children:book.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:1},children:[\"by \",book.authorName]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",fullWidth:true,onClick:e=>{e.stopPropagation();navigate(`/books/${book.id}`);},children:\"View Details\"})]})]})},book.id))}),data&&/*#__PURE__*/_jsx(PaginationControls,{currentPage:page,totalPages:data.totalPages||0,pageSize:size,totalElements:data.totalElements||0,onPageChange:setPage,onPageSizeChange:setSize,loading:loading})]});};export default BookListPage;","map":{"version":3,"names":["Alert","Button","Card","CardContent","CardMedia","CircularProgress","Container","Typography","React","useNavigate","useBooks","PaginationControls","jsx","_jsx","jsxs","_jsxs","BookListPage","_data$content","data","loading","error","page","setPage","size","setSize","navigate","maxWidth","sx","mt","children","variant","gutterBottom","severity","message","String","className","content","map","book","height","display","flexDirection","cursor","width","minWidth","onClick","id","cover","component","image","alt","title","objectFit","background","alignItems","justifyContent","color","flexGrow","p","fontWeight","mb","lineHeight","authorName","fullWidth","e","stopPropagation","currentPage","totalPages","pageSize","totalElements","onPageChange","onPageSizeChange"],"sources":["/Users/rahildesai/Projects/BookNexus/frontend/src/pages/BookListPage.tsx"],"sourcesContent":["import Alert from '@mui/material/Alert';\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Container from '@mui/material/Container';\nimport Typography from '@mui/material/Typography';\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useBooks } from '../hooks/useBooks';\nimport PaginationControls from '../components/PaginationControls';\n\nconst BookListPage: React.FC = () => {\n  const { data, loading, error, page, setPage, size, setSize } = useBooks();\n  const navigate = useNavigate();\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ mt: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>All Books</Typography>\n      {loading && <CircularProgress />}\n      {error && <Alert severity=\"error\">{error.message || String(error)}</Alert>}\n      <div className=\"book-list-grid\">\n        {data?.content?.map(book => (\n          <div className=\"book-list-card\" key={book.id}>\n            <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column', cursor: 'pointer', width: '100%', maxWidth: 280, minWidth: 200 }} onClick={() => navigate(`/books/${book.id}`)}>\n              {book.cover ? (\n                <CardMedia\n                  component=\"img\"\n                  height=\"120\"\n                  image={`data:image/jpeg;base64,${book.cover}`}\n                  alt={book.title}\n                  sx={{ objectFit: 'contain' }}\n                />\n              ) : (\n                <CardMedia\n                  component=\"div\"\n                  sx={{ height: 120, background: '#eee', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                >\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    No Cover\n                  </Typography>\n                </CardMedia>\n              )}\n              <CardContent sx={{ flexGrow: 1, p: 1.5 }}>\n                <Typography variant=\"subtitle1\" component=\"div\" sx={{ fontWeight: 'bold', mb: 0.5, lineHeight: 1.2 }}>\n                  {book.title}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  by {book.authorName}\n                </Typography>\n                <Button \n                  variant=\"outlined\" \n                  size=\"small\" \n                  fullWidth\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    navigate(`/books/${book.id}`);\n                  }}\n                >\n                  View Details\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        ))}\n      </div>\n      {data && (\n        <PaginationControls\n          currentPage={page}\n          totalPages={data.totalPages || 0}\n          pageSize={size}\n          totalElements={data.totalElements || 0}\n          onPageChange={setPage}\n          onPageSizeChange={setSize}\n          loading={loading}\n        />\n      )}\n    </Container>\n  );\n};\n\nexport default BookListPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}