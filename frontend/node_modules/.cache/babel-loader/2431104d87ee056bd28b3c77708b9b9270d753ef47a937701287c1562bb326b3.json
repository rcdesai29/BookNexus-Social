{"ast":null,"code":"var _jsxFileName = \"/Users/rahildesai/Projects/BookNexus-Social/frontend/src/components/BookActions.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BookService } from '../app/services/services/BookService';\nimport ReviewModal from './ReviewModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookActions = ({\n  bookId,\n  onBorrow,\n  onReturn,\n  onReview\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [reviewModalOpen, setReviewModalOpen] = useState(false);\n  const handleBorrow = async () => {\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      await BookService.borrowBook(bookId);\n      setSuccess('Book borrowed successfully!');\n      onBorrow === null || onBorrow === void 0 ? void 0 : onBorrow();\n    } catch (err) {\n      var _err$body;\n      setError((err === null || err === void 0 ? void 0 : (_err$body = err.body) === null || _err$body === void 0 ? void 0 : _err$body.message) || 'Failed to borrow book');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReturn = async () => {\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      await BookService.returnBorrowBook(bookId);\n      setSuccess('Book returned successfully!');\n      onReturn === null || onReturn === void 0 ? void 0 : onReturn();\n    } catch (err) {\n      var _err$body2;\n      setError((err === null || err === void 0 ? void 0 : (_err$body2 = err.body) === null || _err$body2 === void 0 ? void 0 : _err$body2.message) || 'Failed to return book');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReview = () => {\n    setReviewModalOpen(true);\n  };\n  const handleReviewSubmit = () => {\n    setReviewModalOpen(false);\n    onReview === null || onReview === void 0 ? void 0 : onReview();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-800 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border border-green-200 rounded-lg p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-800 text-sm\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBorrow,\n        disabled: loading,\n        className: \"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n        children: loading ? 'Processing...' : 'Borrow Book'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleReturn,\n        disabled: loading,\n        className: \"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n        children: loading ? 'Processing...' : 'Return Book'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleReview,\n        disabled: loading,\n        className: \"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n        children: \"Write Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReviewModal, {\n      open: reviewModalOpen,\n      onClose: () => setReviewModalOpen(false),\n      onSubmit: handleReviewSubmit,\n      bookId: bookId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(BookActions, \"/9O0YSvCeOpVG3OqG5R/Suhd/iw=\");\n_c = BookActions;\nexport default BookActions;\nvar _c;\n$RefreshReg$(_c, \"BookActions\");","map":{"version":3,"names":["React","useState","BookService","ReviewModal","jsxDEV","_jsxDEV","BookActions","bookId","onBorrow","onReturn","onReview","_s","loading","setLoading","error","setError","success","setSuccess","reviewModalOpen","setReviewModalOpen","handleBorrow","borrowBook","err","_err$body","body","message","handleReturn","returnBorrowBook","_err$body2","handleReview","handleReviewSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","open","onClose","onSubmit","_c","$RefreshReg$"],"sources":["/Users/rahildesai/Projects/BookNexus-Social/frontend/src/components/BookActions.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { BookService } from '../app/services/services/BookService';\nimport ReviewModal from './ReviewModal';\n\ninterface BookActionsProps {\n  bookId: number;\n  onBorrow?: () => void;\n  onReturn?: () => void;\n  onReview?: () => void;\n}\n\nconst BookActions: React.FC<BookActionsProps> = ({\n  bookId,\n  onBorrow,\n  onReturn,\n  onReview\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [reviewModalOpen, setReviewModalOpen] = useState(false);\n\n  const handleBorrow = async () => {\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      await BookService.borrowBook(bookId);\n      setSuccess('Book borrowed successfully!');\n      onBorrow?.();\n    } catch (err: any) {\n      setError(err?.body?.message || 'Failed to borrow book');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReturn = async () => {\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      await BookService.returnBorrowBook(bookId);\n      setSuccess('Book returned successfully!');\n      onReturn?.();\n    } catch (err: any) {\n      setError(err?.body?.message || 'Failed to return book');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReview = () => {\n    setReviewModalOpen(true);\n  };\n\n  const handleReviewSubmit = () => {\n    setReviewModalOpen(false);\n    onReview?.();\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Error Alert */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n          <p className=\"text-red-800 text-sm\">{error}</p>\n        </div>\n      )}\n\n      {/* Success Alert */}\n      {success && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n          <p className=\"text-green-800 text-sm\">{success}</p>\n        </div>\n      )}\n\n      {/* Action Buttons */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        <button\n          onClick={handleBorrow}\n          disabled={loading}\n          className=\"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n        >\n          {loading ? 'Processing...' : 'Borrow Book'}\n        </button>\n\n        <button\n          onClick={handleReturn}\n          disabled={loading}\n          className=\"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n        >\n          {loading ? 'Processing...' : 'Return Book'}\n        </button>\n\n        <button\n          onClick={handleReview}\n          disabled={loading}\n          className=\"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n        >\n          Write Review\n        </button>\n      </div>\n\n      {/* Review Modal */}\n      <ReviewModal\n        open={reviewModalOpen}\n        onClose={() => setReviewModalOpen(false)}\n        onSubmit={handleReviewSubmit}\n        bookId={bookId}\n      />\n    </div>\n  );\n};\n\nexport default BookActions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}