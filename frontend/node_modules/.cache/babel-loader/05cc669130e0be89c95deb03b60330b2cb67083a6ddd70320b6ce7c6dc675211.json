{"ast":null,"code":"import{useEffect,useState}from'react';import{BookService}from'../app/services/services/BookService';import{tokenService}from'../services/tokenService';export function useBorrowedBooks(){let initialPage=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let initialSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;const[page,setPage]=useState(initialPage);const[size,setSize]=useState(initialSize);const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(!tokenService.isLoggedIn()){setLoading(false);setError(null);setData(null);return;}setLoading(true);setError(null);BookService.findAllBorrowedBooks(page,size).then(setData).catch(setError).finally(()=>setLoading(false));},[page,size]);return{data,loading,error,page,setPage,size,setSize};}","map":{"version":3,"names":["useEffect","useState","BookService","tokenService","useBorrowedBooks","initialPage","arguments","length","undefined","initialSize","page","setPage","size","setSize","data","setData","loading","setLoading","error","setError","isLoggedIn","findAllBorrowedBooks","then","catch","finally"],"sources":["/Users/cluckbucks/projects/booknexus-social/frontend/src/hooks/useBorrowedBooks.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport type { PageResponseBorrowedBookResponse } from '../app/services/models/PageResponseBorrowedBookResponse';\nimport { BookService } from '../app/services/services/BookService';\nimport { tokenService } from '../services/tokenService';\n\nexport function useBorrowedBooks(initialPage: number = 0, initialSize: number = 12) {\n  const [page, setPage] = useState(initialPage);\n  const [size, setSize] = useState(initialSize);\n  const [data, setData] = useState<PageResponseBorrowedBookResponse | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<any>(null);\n\n  useEffect(() => {\n    if (!tokenService.isLoggedIn()) {\n      setLoading(false);\n      setError(null);\n      setData(null);\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    BookService.findAllBorrowedBooks(page, size)\n      .then(setData)\n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, [page, size]);\n\n  return { data, loading, error, page, setPage, size, setSize };\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,OAASC,WAAW,KAAQ,sCAAsC,CAClE,OAASC,YAAY,KAAQ,0BAA0B,CAEvD,MAAO,SAAS,CAAAC,gBAAgBA,CAAA,CAAoD,IAAnD,CAAAC,WAAmB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,WAAmB,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAChF,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAACI,WAAW,CAAC,CAC7C,KAAM,CAACO,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAACQ,WAAW,CAAC,CAC7C,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAA0C,IAAI,CAAC,CAC/E,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAU,IAAI,CAAC,CACrD,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAM,IAAI,CAAC,CAE7CD,SAAS,CAAC,IAAM,CACd,GAAI,CAACG,YAAY,CAACiB,UAAU,CAAC,CAAC,CAAE,CAC9BH,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,IAAI,CAAC,CACdJ,OAAO,CAAC,IAAI,CAAC,CACb,OACF,CAEAE,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACdjB,WAAW,CAACmB,oBAAoB,CAACX,IAAI,CAAEE,IAAI,CAAC,CACzCU,IAAI,CAACP,OAAO,CAAC,CACbQ,KAAK,CAACJ,QAAQ,CAAC,CACfK,OAAO,CAAC,IAAMP,UAAU,CAAC,KAAK,CAAC,CAAC,CACrC,CAAC,CAAE,CAACP,IAAI,CAAEE,IAAI,CAAC,CAAC,CAEhB,MAAO,CAAEE,IAAI,CAAEE,OAAO,CAAEE,KAAK,CAAER,IAAI,CAAEC,OAAO,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}