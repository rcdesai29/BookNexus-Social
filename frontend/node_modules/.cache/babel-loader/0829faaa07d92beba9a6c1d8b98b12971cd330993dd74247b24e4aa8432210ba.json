{"ast":null,"code":"import React,{useState}from'react';import{CheckCircle as ReadIcon}from'@mui/icons-material';import LibraryBookCard from'../components/LibraryBookCard';import UnifiedBookDetailsModal from'../components/UnifiedBookDetailsModal';import{useUserBookList}from'../hooks/useUserBookList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReadPage=()=>{const{data:readBooks,loading,error,refetch,moveToShelf,removeFromLibrary}=useUserBookList('READ');const[selectedBook,setSelectedBook]=useState(null);const[isDetailsModalOpen,setIsDetailsModalOpen]=useState(false);const handleViewDetails=book=>{setSelectedBook(book);setIsDetailsModalOpen(true);};const handleCloseDetailsModal=()=>{setIsDetailsModalOpen(false);setSelectedBook(null);};const handleMoveToShelf=async(bookId,fromShelf,toShelf)=>{try{await moveToShelf(bookId,fromShelf,toShelf);}catch(error){console.error('Failed to move book:',error);}};const handleRemoveFromLibrary=async bookId=>{try{await removeFromLibrary(bookId);}catch(error){console.error('Failed to remove book:',error);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',backgroundColor:'#FAF3E3',display:'flex',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',border:'4px solid #E6D7C3',borderTop:'4px solid #D2691E',borderRadius:'50%',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes spin {\\n            0% { transform: rotate(0deg); }\\n            100% { transform: rotate(360deg); }\\n          }\\n        \"})]});}if(error){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',backgroundColor:'#FAF3E3',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'rgba(255, 255, 255, 0.9)',padding:'24px',borderRadius:'12px',border:'1px solid #E6D7C3',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:'Playfair Display, serif',color:'#4B3F30',marginBottom:'8px'},children:\"Error Loading Books\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6A5E4D'},children:error.message||String(error)})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',backgroundColor:'#FAF3E3'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(90deg, #4B3F30, #5D4A33, #4B3F30)',color:'white',padding:'48px 0',textAlign:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',padding:'0 24px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:'Playfair Display, serif',fontSize:'36px',fontWeight:700,marginBottom:'16px'},children:\"Read Books\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px',color:'rgba(255, 255, 255, 0.9)',maxWidth:'600px',margin:'0 auto'},children:\"Books you've completed reading\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',padding:'48px 24px'},children:readBooks.length===0&&!loading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'64px 24px',backgroundColor:'rgba(255, 255, 255, 0.8)',borderRadius:'16px',border:'1px solid #E6D7C3'},children:[/*#__PURE__*/_jsx(ReadIcon,{style:{color:'#4CAF50',fontSize:'64px',marginBottom:'24px'}}),/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:'Playfair Display, serif',fontSize:'24px',color:'#4B3F30',marginBottom:'16px'},children:\"No Books Read Yet\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6A5E4D',fontSize:'16px'},children:\"Books you mark as finished will appear here.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(220px, 1fr))',gap:'24px'},children:readBooks.map(bookItem=>/*#__PURE__*/_jsx(LibraryBookCard,{bookListItem:bookItem,onViewDetails:handleViewDetails,onMoveToShelf:handleMoveToShelf,onRemoveFromLibrary:handleRemoveFromLibrary,showShelfActions:true},\"\".concat(bookItem.id,\"-\").concat(bookItem.listType)))})}),/*#__PURE__*/_jsx(UnifiedBookDetailsModal,{book:selectedBook,isOpen:isDetailsModalOpen,onClose:handleCloseDetailsModal,context:\"library\"})]});};export default ReadPage;","map":{"version":3,"names":["React","useState","CheckCircle","ReadIcon","LibraryBookCard","UnifiedBookDetailsModal","useUserBookList","jsx","_jsx","jsxs","_jsxs","ReadPage","data","readBooks","loading","error","refetch","moveToShelf","removeFromLibrary","selectedBook","setSelectedBook","isDetailsModalOpen","setIsDetailsModalOpen","handleViewDetails","book","handleCloseDetailsModal","handleMoveToShelf","bookId","fromShelf","toShelf","console","handleRemoveFromLibrary","style","minHeight","backgroundColor","display","alignItems","justifyContent","children","width","height","border","borderTop","borderRadius","animation","padding","textAlign","fontFamily","color","marginBottom","message","String","background","maxWidth","margin","fontSize","fontWeight","length","gridTemplateColumns","gap","map","bookItem","bookListItem","onViewDetails","onMoveToShelf","onRemoveFromLibrary","showShelfActions","concat","id","listType","isOpen","onClose","context"],"sources":["/Users/cluckbucks/projects/booknexus-social/frontend/src/pages/ReadPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  MenuBook, \n  CheckCircle as ReadIcon\n} from '@mui/icons-material';\nimport LibraryBookCard from '../components/LibraryBookCard';\nimport UnifiedBookDetailsModal from '../components/UnifiedBookDetailsModal';\nimport { useUserBookList } from '../hooks/useUserBookList';\nimport { GoogleBook } from '../hooks/useGoogleBooksSimple';\n\nconst ReadPage: React.FC = () => {\n  const { data: readBooks, loading, error, refetch, moveToShelf, removeFromLibrary } = useUserBookList('READ');\n  const [selectedBook, setSelectedBook] = useState<GoogleBook | null>(null);\n  const [isDetailsModalOpen, setIsDetailsModalOpen] = useState(false);\n\n  const handleViewDetails = (book: any) => {\n    setSelectedBook(book);\n    setIsDetailsModalOpen(true);\n  };\n\n  const handleCloseDetailsModal = () => {\n    setIsDetailsModalOpen(false);\n    setSelectedBook(null);\n  };\n\n  const handleMoveToShelf = async (bookId: string, fromShelf: string, toShelf: string) => {\n    try {\n      await moveToShelf(bookId, fromShelf, toShelf);\n    } catch (error) {\n      console.error('Failed to move book:', error);\n    }\n  };\n\n  const handleRemoveFromLibrary = async (bookId: string) => {\n    try {\n      await removeFromLibrary(bookId);\n    } catch (error) {\n      console.error('Failed to remove book:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ \n        minHeight: '100vh', \n        backgroundColor: '#FAF3E3',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        <div style={{\n          width: '40px',\n          height: '40px',\n          border: '4px solid #E6D7C3',\n          borderTop: '4px solid #D2691E',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }}></div>\n        <style>{`\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{ \n        minHeight: '100vh', \n        backgroundColor: '#FAF3E3',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        <div style={{\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          padding: '24px',\n          borderRadius: '12px',\n          border: '1px solid #E6D7C3',\n          textAlign: 'center'\n        }}>\n          <h3 style={{\n            fontFamily: 'Playfair Display, serif',\n            color: '#4B3F30',\n            marginBottom: '8px'\n          }}>\n            Error Loading Books\n          </h3>\n          <p style={{ color: '#6A5E4D' }}>\n            {error.message || String(error)}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#FAF3E3' }}>\n      {/* Header Section */}\n      <div style={{\n        background: 'linear-gradient(90deg, #4B3F30, #5D4A33, #4B3F30)',\n        color: 'white',\n        padding: '48px 0',\n        textAlign: 'center'\n      }}>\n        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 24px' }}>\n          <h1 style={{\n            fontFamily: 'Playfair Display, serif',\n            fontSize: '36px',\n            fontWeight: 700,\n            marginBottom: '16px'\n          }}>\n            Read Books\n          </h1>\n          <p style={{\n            fontSize: '18px',\n            color: 'rgba(255, 255, 255, 0.9)',\n            maxWidth: '600px',\n            margin: '0 auto'\n          }}>\n            Books you've completed reading\n          </p>\n        </div>\n      </div>\n\n      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '48px 24px' }}>\n        {readBooks.length === 0 && !loading ? (\n          <div style={{\n            textAlign: 'center',\n            padding: '64px 24px',\n            backgroundColor: 'rgba(255, 255, 255, 0.8)',\n            borderRadius: '16px',\n            border: '1px solid #E6D7C3'\n          }}>\n            <ReadIcon style={{ \n              color: '#4CAF50', \n              fontSize: '64px',\n              marginBottom: '24px'\n            }} />\n            <h3 style={{\n              fontFamily: 'Playfair Display, serif',\n              fontSize: '24px',\n              color: '#4B3F30',\n              marginBottom: '16px'\n            }}>\n              No Books Read Yet\n            </h3>\n            <p style={{\n              color: '#6A5E4D',\n              fontSize: '16px'\n            }}>\n              Books you mark as finished will appear here.\n            </p>\n          </div>\n        ) : (\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(220px, 1fr))',\n            gap: '24px'\n          }}>\n            {readBooks.map(bookItem => (\n              <LibraryBookCard\n                key={`${bookItem.id}-${bookItem.listType}`}\n                bookListItem={bookItem}\n                onViewDetails={handleViewDetails}\n                onMoveToShelf={handleMoveToShelf}\n                onRemoveFromLibrary={handleRemoveFromLibrary}\n                showShelfActions={true}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Book Details Modal */}\n      <UnifiedBookDetailsModal\n        book={selectedBook}\n        isOpen={isDetailsModalOpen}\n        onClose={handleCloseDetailsModal}\n        context=\"library\"\n      />\n    </div>\n  );\n};\n\nexport default ReadPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}